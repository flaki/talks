* {
  box-sizing: border-box;
}

html {
  /* 16:9 ratio by default */
  --slidew: 100vw;
  --slideh: calc(var(--slidew) / 16 * 9);

  overflow: hidden;

  font-size: calc(var(--slidew) / 50);
}

/* Enable page content scroll while presenting
   and slightly reduce slide size to allow for the scrollbar
   to show fit on the screen */
html:not(.present) {
  --slidew: calc(100vw - 17px);
  overflow-y: scroll;
}

html, body {
  margin: 0;
  padding: 0;

  background-color: black;
}

main {
  width: var(--slidew);

  color: #333;
  font-family: sans-serif;
  position: relative;
}

h1, h2, h3, h4, h5, h6 {
  position: relative;
  margin-top: 0;
}

main>section {
  width: 100%;
  height: var(--slideh);
  top: 0;
  left: 0;
  /*background-color: inherit;*/

  /* position absolute object inside this slide */
  position: relative;

  /* hide overflow */
  overflow: hidden;

  /* for not .present-ed views */
  margin-bottom: 1rem;
}

/* These usually are empty paragraphs generated by the markdown
   compiler that only contain the background image */
main>section>p:first-child {
  display: contents;
}


.present main {
  height: var(--slideh);
}
.present main>section {
  position: absolute;
  opacity: 0;
  /*transition: opacity .3s ease;*/
}
.present main>section.current {
  opacity: 1;
  z-index: 1;
}



/* Print (pdf-export) specific rules */
@media print {
  html {
    --slidew: 383.3mm;
  }

	#slides>*:not(:last-child) {
    page-break-after: always;
  }

  h1, h2 {
    filter: drop-shadow(0.1rem 0.1rem .25rem black);
  }
}


/* Default background image settings */
picture.bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--slideh);
}
picture.bg > img {
  width: 100%;
  height: 100%;
}

picture.bg > img,
picture.bg.cover > img {
  object-fit: cover;
}

picture.bg.contain > img {
  object-fit: contain;
}

picture.bg.fill > img {
  object-fit: fill;
}
picture.bg.top > img {
  object-position: top;
}

picture.bg.centered > img {
  object-fit: scale-down;
  padding: 20vmin;
}

picture.bg.drop-shadow {
	box-shadow: 1vmin 1.5vmin 5vmin .5vmin #999;
	width: 60vw;
	height: auto;
	left: 50vw;
	transform: translateX(-50%) translateY(calc(50vh - 50%));
	margin: 0;
}
picture.bg.drop-shadow > img {
  display: block;
	padding: 0;
  object-fit: initial;
}

picture.bg.align-top > img {
  object-position: center top;
}



/* Webcam live-view config */
body > video {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	object-fit: cover;
}

html.live-view main {
  opacity: .8;
}
main>section.current {
  /*transition: transform 1.5s ease, opacity .3s ease;*/
  transition: transform 1.5s ease;
}
html.live-view main>section.current {
  transform: translate(-44vw, -44vh) scale(.1);
}



/* Notes */
details {
  position: absolute;
  right: .25rem;
  bottom: .25rem;
  color: white;
  background: rgba(0,0,0,0.75);

  border-radius: 50%;

  background-image: url(/pic/edit.svg);
  background-size: 2vw;
  background-position: center;
  background-repeat: no-repeat;
  background-color: rgba(0,0,0,.75);

  opacity: .3;
}
details:not([open]) {
  font-size: 0px;
  width: 4vw;
  height: 4vw;
}
details:not([open]):hover {
  opacity: .95;
}
details[open] {
  padding: 1em;
  border-radius: 1em 0 0 0;
  opacity: 1;
  font-size: .8rem;
  font-family: 'Open Sans Condensed', sans-serif;
  background-image: none;
}



/* Citations, footnotes, attributions */
footer.attr {
  color: hotpink;
  font-family: Oswald, sans-serif;
  font-size: .85em;
  padding: .75em;
  margin: 0;
  position: absolute;
  bottom: 0;
  z-index: 100;
  opacity: .5;
}

footer.attr p {
  display: contents;
}


.attr a {
  font-style: italic;
  color: #e38;
}

.attr a:hover, attr a:focus, attr a:active {
  color: hotpink;
}
